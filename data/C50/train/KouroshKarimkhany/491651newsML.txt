Rational Software Corp., expanding its expertise in offering software programming products, said Monday it agreed to buy rival Pure Atria Corp. in a stock deal initially valued at about million. But both companies' stocks plunged after Pure Atria said its first quarter earnings would be far less than Wall Street expected because of the difficulty the company has had managing its own recent acquisitions. Rational could have the same difficulties, analysts said. We're looking at a lot of questions about why the hell Rational would do this when they appeared to be winning the war with Pure Atria anyway, said Kris Tuttle, analyst at Soundview Financial Group. Rational Software's stock fell . , or percent, to . , while Pure Atria's stock fell . , or percent, to . on the Nasdaq, where both were among the biggest percentage losers and the most actively traded stocks on the exchange. Under terms of the acquisition, Rational would pay . of its shares for each of Pure Atria's . million shares outstanding. Based on Rational's Friday closing stock price of . , the transaction would be worth million. Monday's stock slide slashed the deal's value by percent. Both companies write development tools, a type of software that helps programmers write other software. Santa Clara, Calif. based Rational specialises in methodology tools, which help programmers design the skeleton of complex software projects. Pure Atria specialises in development and testing tools, which let programmers write and test chunks of software code. The acquisition would give Rational all the components a big developer would need to write commercial quality software, said Stan Dolberg, director of software strategies of market researcher Forrester Research Inc. But Rational is placing its bets on rigid, industrial strength development tools at an awkward time. Rational and other development tool vendors face a fundamental threat from Java, a programming language that is all the rage among Internet and computer networking software developers, who do not need such rigid tools. My suspicion is that there are a lot of developers waiting to see what happens with Java, said Catlin Wolfard, analyst at brokerage Aracdia Investment Corp. in Portland, Ore. Every stock chart in the development market is down, down, down this year because of lower earnings prospects as big development tool purchases are put off. Rational also is buying a company that has had a hard time managing its own acquisitions, analysts said. Pure Atria's trouble could now be Rational's, Andrew Roskill, analyst at Smith Barney, told the brokerage's clients Monday. Pure Atria, based in Sunnyvale, Calif., was formed last August when Atria Software Inc. bought Pure Software Inc. The companies still are struggling to meld their operations. Partly because of the difficult merger, Pure Atria said it expected first quarter earnings to be between cents to cents a share, compared with cents in the same quarter a year ago. Wall Street expected earnings of cents, according to First Call, which tracks such estimates. Rational executives said they viewed this as the right time to buy Pure Atria. The acquisition will accelerate Rational's expansion into the testing market, said Jerry Rudisin, Rational's vice president of corporate marketing. 